@page "/Upload"
@inject FileUploadStateService FileState 
@inject NavigationManager NavManager


<MudStack Class="mx-10 my-14" Row="true" StretchItems="StretchItems.End" Spacing="9">
    <UploadMetadataDrawer/>
    <MudStack>
        <UploadBrowserToolbar/>
        <UploadBrowser File="@_currentFile"/>
    </MudStack>
</MudStack>

@code {
    private UploadedFile? _currentFile;
    protected override void OnInitialized()
    {
        if (FileState.PendingFiles.Any())
            _currentFile = FileState.PendingFiles.First();
        else
            NavManager.NavigateTo("/Upload");
    }
    
}