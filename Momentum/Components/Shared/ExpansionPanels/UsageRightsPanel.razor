<MudExpansionPanel HeaderClass="pa-0" 
                   Gutters="false" 
                   Dense="true" 
                   HideIcon="true">
    <TitleContent>
        <MudStack Row="true" AlignItems="AlignItems.Center" Spacing="1">
            <MudIcon Size="Size.Small">
                <i class="fa-solid fa-sitemap fa-2xs"></i>
            </MudIcon>
            <MudText Typo="Typo.subtitle2" >Usage Rights</MudText>
            <MudText Color="Color.Error" Typo="Typo.body2">*</MudText>
        </MudStack>
    </TitleContent>
    
    <ChildContent>
        @if (!string.IsNullOrEmpty(File?.UsageRights))
        {
            <MudChip T="string" 
                     OnClose="ClearUsageRights" 
                     Size="Size.Small" 
                     CloseIcon="@Icons.Material.Filled.Close">
                <MudText Typo="Typo.caption" Color="Color.Primary">@File.UsageRights</MudText>
            </MudChip>
        }

        <MudSelect T="string"
                   @bind-Value="File.UsageRights"
                   Variant="Variant.Outlined"
                   Margin="Margin.Dense" 
                   Placeholder="Select Usage Rights"
                   Underline="false"
                   Immediate="true">
            @foreach (var usageRight in _usageRights)
            {
                <MudSelectItem Value="@usageRight">@usageRight</MudSelectItem>
            }
        </MudSelect>
    </ChildContent>
</MudExpansionPanel>

@code {
    [Parameter] public UploadedFile? File { get; set; }

    private readonly string[] _usageRights =
    {
       "Available", "Confidential", "On request", "Special usage rights"
    };

    private void ClearUsageRights()
    {
        if (File is not null)
            File.UsageRights = string.Empty;
    }
}