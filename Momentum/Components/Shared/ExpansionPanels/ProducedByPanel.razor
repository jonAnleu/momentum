<MudExpansionPanel HeaderClass="pa-0" Gutters="false" Dense="true" HideIcon="true">
    <TitleContent>
        <MudStack Row="true" AlignItems="AlignItems.Center" Justify="Justify.SpaceBetween">
            <MudStack Row="true" AlignItems="AlignItems.Center" Spacing="1">
                <MudIcon Size="Size.Small">
                    <i class="fa-solid fa-sitemap fa-2xs"></i>
                </MudIcon>
                <MudText Typo="Typo.subtitle2">Produced By</MudText>
            </MudStack>
            <VisibilityToggleButton ShowOptional="ShowOptional" OnVisibilityChanged="ToggleVisibility"/>
        </MudStack>
    </TitleContent>
    <ChildContent>
        <MudForm>
            <MudStack Class="mb-4" Row="true" AlignItems="AlignItems.Center" Spacing="0" >
                <MudIconButton Icon="@Icons.Material.Filled.RadioButtonUnchecked" Size="Size.Small" OnClick="Reset"/>
                <MudText Typo="Typo.body2">Select All</MudText>
            </MudStack>
            <MudRadioGroup @bind-Value="SelectedOption">
                <MudStack Spacing="0">
                    <MudRadio Value="@("Albany")" Size="Size.Small" Dense="true">Albany</MudRadio>
                    <MudRadio Value="@("Beaufort")" Size="Size.Small" Dense="true">Beaufort</MudRadio>
                    <MudRadio Value="@("Cherry Point")" Size="Size.Small" Dense="true">Cherry Point</MudRadio>
                    <MudRadio Value="@("Vendors")" Size="Size.Small" Dense="true">Vendors</MudRadio>
                </MudStack>
            </MudRadioGroup>
        </MudForm>
    </ChildContent>
</MudExpansionPanel>

@code {
    [Parameter] public bool ShowOptional { get; set; }
    [Parameter] public EventCallback<bool> OnVisibilityChanged { get; set; }
    
    private void ToggleVisibility()
    {
        OnVisibilityChanged.InvokeAsync(!ShowOptional);
    }
    
    public string SelectedOption { get; set; }

    private void Reset()
    {
        SelectedOption = null;
    }
}